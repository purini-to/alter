<md-content layout="row" flex>
  <section layout="column" flex>
    <md-toolbar class="md-hue-3 sub-toolbar">
      <div class="md-toolbar-tools">
        <h2>{{activeRoom.name}}</h2>
      </div>
    </md-toolbar>
    <md-content class="main-content md-whiteframe-z1" flex>
      <section class="container">
        <md-list class="chat-log">
          <md-list-item ng-repeat="log in logs" class="md-2-line" style="word-wrap: break-word;">
            <div class="md-list-item-text anim-right2left" animate flex>
              <p ng-if="!isContinuation($index, -1)">{{::log.user.name}}</p>
              <div class="chat-content">{{::log.content}}</div>
            </div>
            <md-divider ng-if="!$last && !isContinuation($index, 1)"></md-divider>
          </md-list-item>
        </md-list>
      </section>
    </md-content>
    <section class="chat-input-container" layout="column">
      <textarea ng-model="log.content" ng-enter="sendLog($event)" msd-elastic placeholder="メッセージ" flex></textarea>
    </section>
  </section>
  <md-sidenav class="member-nav md-whiteframe-z2" md-component-id="chat-member" md-is-locked-open="$mdMedia('gt-sm')">
    <md-toolbar class="md-hue-3 sub-toolbar">
      <h3 class="md-toolbar-tools">情報</h3>
    </md-toolbar>
    <md-content layout="column">
      <md-tabs md-dynamic-height md-border-bottom class="stretch-tab">
        <md-tab label="ルーム">
          <md-content layout-padding>
            <md-input-container layout-margin>
              <label>ルーム名</label>
              <input ng-model="activeRoom.name" type="text" name="name" ng-readonly="!isAdminRoom()" required maxlength="15">
            </md-input-container>
            <md-input-container layout-margin>
              <label>ルーム説明</label>
              <textarea ng-model="activeRoom.description" name="description" ng-readonly="!isAdminRoom()" rows="2" maxlength="100"></textarea>
            </md-input-container>
            <section layout="row" layout-align="center center" ng-if="isAdminRoom()">
              <md-button ng-click="showRoomDeleteConfirm($event)" class="md-raised md-warn">ルーム削除</md-button>
            </section>
          </md-content>
        </md-tab>
        <md-tab label="メンバー">
          <md-content>
            <ul class="nav-menu">
              <li ng-repeat="user in enterUsers" class="anim-right-slide" flex>
                <md-button class="anim-right-slide">{{::user.name}}</md-button>
              </li>
            </ul>
          </md-content>
        </md-tab>
      </md-tabs>
    </md-content>
  </md-sidenav>
</md-content>
