<md-sidenav class="md-sidenav-left md-whiteframe-z2 anim-left2right" animate md-component-id="siteNav" md-is-locked-open="$mdMedia('gt-md')">
  <md-toolbar  class="profile-are" layout="column" layout-align="end">
    <md-button class="profile-button" ng-click="toggleProfileMenu($event)">
      <img ng-src="{{user.avator.path}}" class="avator sm">
      {{user.name}}
      <ng-md-icon icon="{{profileIcon}}" style="fill: white" size="28"></ng-md-icon>
    </md-button>
  </md-toolbar>
  <md-content flex>
    <ul class="nav-menu profile-menu" slide-toggle="isOpenProfileMenu" start-shown="false" flex>
      <li flex>
        <md-button ng-click="showNewRoomDialog($event)">プロフィール</md-button>
        <!-- <md-button>動作設定</md-button>       -->
        <md-button ng-click="logout()">ログアウト</md-button>
      </li>
    </ul>
    <ul class="nav-menu" flex>
      <li ng-repeat="menu in ::staticMenus" flex>
        <md-button ng-if="isLink(menu)" ui-sref="{{::menu.state}}" ng-click="close()">{{::menu.name}}</md-button>
      </li>
      <md-divider></md-divider>
      <li ng-repeat="menu in dynamicMenus" flex>
        <div ng-if="isLink(menu)">
          <md-button ui-sref="{{::menu.state}}" class="anim-right-slide" ng-click="close()">{{::menu.name}}</md-button>
        </div>
        <div ng-show="isToggleMenu(menu)">
          <md-button ng-click="toggleMenu($event, menu)" class="anim-right-slide">
            {{::menu.name}}
            <ng-md-icon icon="{{setIcon(menu)}}" style="fill: grey" size="30"></ng-md-icon>
          </md-button>
          <ul class="nav-sabmenu" slide-toggle="menu.opened" start-shown="{{menu.opened}}">
            <li ng-repeat="item in menu.items" class="anim-right-slide" flex>
              <md-button ui-sref="{{::item.state}}" ng-click="close()">{{item.name}}</md-button>
            </li>
          </ul>
        </div>
      </li>
    </ul>
  </md-content>
</md-sidenav>
